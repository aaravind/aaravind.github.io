(this["webpackJsonpmy-library"]=this["webpackJsonpmy-library"]||[]).push([[0],{19:function(e,t,a){e.exports=a(32)},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(10),c=a.n(r),l=a(6),i=a(2),s=a(17),u=a(18),m=a(9),d=a(1),b=Object(i.combineReducers)({bookReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOOK_DATA_ACTION":return Object(d.a)({},e,{bookData:Object(m.a)(t.payload.data)});case"SET_ACTIVE_BOOK_ACTION":return Object(d.a)({},e,{activeBook:Object(d.a)({},t.payload.data)});case"CREATE_BOOK_ACTION":return Object(d.a)({},e,{bookData:[t.payload.data].concat(Object(m.a)(e.bookData)),activeBook:Object(d.a)({},t.payload.data)});case"DELETE_BOOK_ACTION":console.log("here");var a=e.bookData.filter((function(e){return e.id!==t.payload.id})),n=e.activeBook&&e.activeBook.id===t.payload.id?a[0]:e.activeBook;return Object(d.a)({},e,{bookData:a,activeBook:Object(d.a)({},n)});default:return e}}}),p=[s.a],E=Object(i.createStore)(b,Object(u.composeWithDevTools)(i.applyMiddleware.apply(void 0,p))),k=a(3),h=a(4),f=a(7),v=a(5),O=a(8),g=function(e){E.dispatch(y(e))},y=function(e){return function(t,a){t(function(e){return{type:"SET_ACTIVE_BOOK_ACTION",payload:{data:Object(d.a)({},e[0])}}}(a().bookReducer.bookData.filter((function(t){return t.id===e}))))}},j=function(e){return function(t,a){t(function(e){return{type:"CREATE_BOOK_ACTION",payload:{data:e}}}(Object(d.a)({},e,{id:"book_"+Date.now()})))}},T=function(e){console.log("utile",e),E.dispatch(function(e){return console.log("here12",e),{type:"DELETE_BOOK_ACTION",payload:{id:e}}}(e))},N=function(e){var t=e.data,a=e.isDetailCard;return t?o.a.createElement("div",{className:"card"},o.a.createElement("img",{src:t["image-url"],className:"card-img-top",alt:t["image-url"],onClick:function(){var e;e=t.id,g(e)}}),o.a.createElement("div",{className:"card-body"},o.a.createElement("h5",{className:"card-title"},t.title),a?"":o.a.createElement("button",{className:"",type:"button",onClick:function(){var e;e=t.id,console.log(e),T(e)}},"Delete"),a&&o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{className:"card-text"},t["sub-title"]),o.a.createElement("p",{className:""},t.description)))):o.a.createElement(o.a.Fragment,null)},C=function(e){var t=e.data;return o.a.createElement("li",{className:"book-list-item m-2"},o.a.createElement(N,{data:t}))},A=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(o)))).itemClickHandler=function(e){g(e)},a}return Object(O.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.data;return o.a.createElement("ul",{className:"d-flex flex-wrap book-list"},e.length?e.map((function(e){return o.a.createElement(C,{data:e,key:e.id})})):"No books available")}}]),t}(n.Component),B=Object(l.b)((function(e){var t=e.bookReducer.bookData?e.bookReducer.bookData:[];return{data:Object(m.a)(t)}}))(A),_=Object(l.b)((function(e){return{activeItem:e.bookReducer.activeBook}}))((function(e){var t=e.activeItem;return o.a.createElement(n.Fragment,null,t&&t.id?o.a.createElement(N,{data:t,isDetailCard:!0}):"")})),D=a(11),w=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(f.a)(this,Object(v.a)(t).call(this,e))).submitHandler=function(e){e.preventDefault(),function(e){E.dispatch(j(e))}({title:a.state.bookTitle,"sub-title":a.state.bookSubTitle,"image-url":a.state.bookUrl,description:a.state.description}),a.toggleForm(!1)},a.onChangeHandler=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(D.a)({},t,n))},a.toggleForm=function(e){a.setState({isActive:e})},a.state={bookTitle:"",bookSubTitle:"",bookUrl:"",description:"",isActive:!1},a}return Object(O.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"create-book-wrapper"},this.state.isActive?o.a.createElement("div",{className:"create-book"},o.a.createElement("form",{onSubmit:this.submitHandler},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"bookTitle"},o.a.createElement("span",null,"Book Name: "),o.a.createElement("input",{id:"bookTitle",type:"text",name:"bookTitle",value:this.state.bookTitle,onChange:this.onChangeHandler}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"bookSubTitle"},o.a.createElement("span",null,"Book Name: "),o.a.createElement("input",{id:"bookSubTitle",type:"text",name:"bookSubTitle",value:this.state.bookSubTitle,onChange:this.onChangeHandler}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"imageUrl"},o.a.createElement("span",null,"Image URL: "),o.a.createElement("input",{id:"bookUrl",type:"text",name:"bookUrl",value:this.state.bookUrl,onChange:this.onChangeHandler}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"description"},o.a.createElement("span",null,"Description: "),o.a.createElement("textarea",{id:"description",name:"description",value:this.state.description,onChange:this.onChangeHandler}))),o.a.createElement("button",{type:"submit"},"Add Book"))):o.a.createElement("button",{className:"",type:"button",onClick:function(){e.toggleForm(!0)}},"Add Book"))}}]),t}(n.Component),I=function(e){function t(){return Object(k.a)(this,t),Object(f.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){!function(){var e=new Request("/data/data.json",{method:"GET",mode:"cors",cache:"default"});fetch(e).then((function(e){return e.json()}),(function(e){console.log(e)})).then((function(e){E.dispatch({type:"SET_BOOK_DATA_ACTION",payload:e})}))}()}},{key:"render",value:function(){var e={width:"50%"};return o.a.createElement("div",{className:"container book-container"},o.a.createElement("div",{className:"d-flex"},o.a.createElement("div",{className:"book-list",style:e},o.a.createElement(w,null),o.a.createElement(B,null)),o.a.createElement("div",{className:"book-details",style:e},o.a.createElement(_,null))))}}]),t}(n.Component);a(30);var S=function(){return o.a.createElement(I,null)};a(31),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(l.a,{store:E},o.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.894512e8.chunk.js.map